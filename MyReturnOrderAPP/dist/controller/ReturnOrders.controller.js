sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageBox","./utilities","sap/ui/core/routing/History","sap/ui/core/UIComponent","sap/m/MessageToast","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(t,e,r,i,n,o,a,s){"use strict";return t.extend("SAPUI5MyReturnOrder.MyReturnOrderAPP.controller.ReturnOrders",{handleRouteMatched:function(t){var e="App1";var r={};if(t.mParameters.data.context){this.sContext=t.mParameters.data.context}else{if(this.getOwnerComponent().getComponentData()){var i=function(t){if(Object.keys(t).length!==0){for(var e in t){if(e!=="sourcePrototype"&&e.includes("Set")){return e+"("+t[e][0]+")"}}}};this.sContext=i(this.getOwnerComponent().getComponentData().startupParameters)}}var n;if(this.sContext){n={path:"/"+this.sContext,parameters:r};this.getView().bindObject(n)}},_onFioriListReportTableItemPress:function(t){var e=t.getParameter("listItem").getBindingContext().getObject();var r=n.getRouterFor(this);r.navTo("RouteReturnOrderItems",{OrderNo:e.CustomerReturn})},doNavigate:function(t,e,r,i){var n=e?e.getPath():null;var o=e?e.getModel():null;var a;if(n!==null&&n!==""){if(n.substring(0,1)==="/"){n=n.substring(1)}a=n.split("(")[0]}var s;var u=this.sMasterContext?this.sMasterContext:n;if(a!==null){s=i||this.getOwnerComponent().getNavigationPropertyForNavigationWithContext(a,t)}if(s!==null&&s!==undefined){if(s===""){this.oRouter.navTo(t,{context:n,masterContext:u},false)}else{o.createBindingContext(s,e,null,function(e){if(e){n=e.getPath();if(n.substring(0,1)==="/"){n=n.substring(1)}}else{n="undefined"}if(n==="undefined"){this.oRouter.navTo(t)}else{this.oRouter.navTo(t,{context:n,masterContext:u},false)}}.bind(this))}}else{this.oRouter.navTo(t)}if(typeof r==="function"){r()}},_onFioriListReportTableUpdateFinished:function(t){var e=t.getSource();var r=e.getAggregation("headerToolbar");if(r&&r.getAggregation("content")[1]){var i=r.getAggregation("content")[1];if(e.getBinding("items")&&e.getBinding("items").isLengthFinal()){i.setText("("+e.getBinding("items").getLength()+")")}else{i.setText("(1)")}}},_onFioriListReportActionButtonPress:function(t){var r=t.getSource().getBindingContext();return new Promise(function(t){this.doNavigate("RouteCreateReturnOrder",r,t,"")}.bind(this)).catch(function(t){if(t!==undefined){e.error(t.message)}})},onInit:function(){this.oRouter=sap.ui.core.UIComponent.getRouterFor(this);this.oRouter.getTarget("TargetReturnOrders").attachDisplay(jQuery.proxy(this.handleRouteMatched,this));this.oFilterBar=null;this.oFilterBar=this.getView().byId("ListReportFilterBar")},onExit:function(){var t=[{controlId:"Fiori_ListReport_ListReport_0-content-Fiori_ListReport_Table-1",groups:["items"]}];for(var e=0;e<t.length;e++){var r=this.getView().byId(t[e].controlId);if(r){for(var i=0;i<t[e].groups.length;i++){var n=t[e].groups[i];var o=r.getBindingInfo(n);if(o){var a=o.template;a.destroy()}}}}},onSearch:function(t){var e;var r=[];var i=this.byId("comboApprovalSta").getSelectedKeys();for(e=0;e<=i.length;e++){var n=i[e];if(n){r.push(new a("OverialApprovalSta",s.Contains,n))}}var o=this.byId("datePCreateDatep")._getInputValue();if(o){var u=o.slice(0,4);var g=o.slice(4,6);var l=o.slice(6,8);var d=u+"-"+g+"-"+l;r.push(new a("CreationDate",s.EQ,d))}var c=this.byId("datePResponseDate")._getInputValue();if(c){u=c.slice(0,4);g=c.slice(4,6);l=c.slice(6,8);d=u+"-"+g+"-"+l;r.push(new a("ResponseDate",s.EQ,d))}var h=this.byId("TabCustomerReturn");var f=h.getBinding("items");f.filter(r)},onBasecSearch:function(t){var e=[];var r=t.getParameter("query");if(r){e.push(new a("CustomerReturn",s.Contains,r))}var i=this.byId("TabCustomerReturn");var n=i.getBinding("items");n.filter(e)}})},true);